<h2 class="page_title">Articles</h2>
<p id="disclaimer"><b>DISCLAIMER:</b> While I do not host any explicit content on this website, some artworks originate from NSFW sources. Such sources are marked as "R-18" in the "Source Type" field in their database entries. Please use discretion when looking up these sources online!</p>
<div id="search-menu">
    <%= search_form_for @q do |f| %>
        <%= f.search_field :title_cont %>
        <%= f.submit %>
    <% end %><%= select_tag :per_page, options_for_select([2,3,5,15], params[:per_page].to_i), :onchange => "if(this.value){window.location='?per_page='+this.value;}" %> entries per page
    <br>
    <form>
    Sort by:
        <select name = "sort_by">
            <option value = "id">Select</option>
            <option value = "id">--------</option>
            <option value = "title">Title</option>
            <option value = "uploadDate">Upload Date</option>
            <option value = "id">ID</option>
        </select>
        <select name = "sort_order">
            <option value = "ASC">Asc/Desc</option>
            <option value = "ASC">--------</option>
            <option value = "ASC">Ascending</option>
            <option value = "DESC">Descending</option>
        </select>
        <input type="submit" value="Sort"/>
    </form>
</div>

<% if false %>
<%= select_tag :sort_by, options_for_select(["title", "uploadDate", "id"], params[:sort_by]), :onchange => "if(this.value){window.location='?sort_by='+this.value;}" %>
<%= select_tag :sort_order, options_for_select(["ASC", "DESC"], params[:sort_order]), :onchange => "if(this.value){window.location='?sort_order='+this.value;}" %>
<% end %>


<div id="main_table">
    <table>
        <tr>
            <td><b>Song Title</b></td>
            <td><b>Thumbnail</b></td>
            <td><b>Upload Date of Nightcore Version</b></td>
        </tr>
        <% @articles.each do |article| %>
            <tr>
                <td><%= link_to article.title, article %></td>
                <td><div id="thumbnail"><%= link_to image_tag(article.imgPath), article %></div></td>
                <td><%= article.uploadDate %></td>
            </tr>
        <% end %>
    </table>
</div>
<div id="paginate">
    <%= will_paginate @articles %>
    <%= page_entries_info @articles %>
</div>
